services:
  hms.authentication.token:
    class: Drupal\hms\Authentication\Provider\Token
    arguments:
      - '@database'
      - '@cache.hms'
      - '@hms.client'
      - '@hms.settings'
      - '@hms.logger'
    tags:
      - { name: authentication_provider, provider_id: 'hms_token', priority: 100, global: TRUE }

  hms.client:
    class: Drupal\hms\Client\Harbourmaster
    arguments:
      - '@http_client'
      - '@hms.settings'

  hms.logger:
    parent: logger.channel_base
    arguments:
      - hms

  hms.settings:
    class: Drupal\Core\Config\ImmutableConfig
    factory: config.factory:get
    arguments:
      - 'hms.settings'

  cache.hms:
    class: Drupal\Core\Cache\CacheBackendInterface
    tags:
    - { name: cache.bin }
    factory: cache_factory:get
    arguments:
      - hms
